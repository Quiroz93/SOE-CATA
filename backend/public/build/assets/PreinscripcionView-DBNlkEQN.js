import{s as v,d as g,x as _,c as a,w as h,b as s,j as u,v as m,u as r,t as d,k as p,a as i,f as y,q as b}from"./index-Bs8m1mXB.js";import{h as k}from"./http.client-BnnA083I.js";const V={async crear(c){return(await k.post("/preinscripciones",c)).data}},w=v("preinscripcion",{state:()=>({loading:!1,successMessage:"",errors:{}}),actions:{async enviar(c){this.loading=!0,this.errors={},this.successMessage="";try{await V.crear(c),this.successMessage="Preinscripción realizada correctamente."}catch(l){l.type==="validation"?this.errors=l.errors||{}:this.errors={general:[l.message||"Error inesperado"]}}finally{this.loading=!1}}}}),M={key:0},x={key:0},N={key:0},P={key:0},S={key:0},U={key:0},E=["disabled"],I={key:1},B=g({__name:"PreinscripcionForm",props:{programaId:{}},setup(c){const l=c,e=w(),o=_({programa_id:l.programaId,nombres:"",apellidos:"",documento:"",correo:"",telefono:""}),f=async()=>{await e.enviar(o)};return(C,n)=>(i(),a("form",{onSubmit:h(f,["prevent"])},[s("div",null,[u(s("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>o.nombres=t),placeholder:"Nombres"},null,512),[[m,o.nombres]]),r(e).errors.nombres?(i(),a("span",M,d(r(e).errors.nombres[0]),1)):p("",!0)]),s("div",null,[u(s("input",{"onUpdate:modelValue":n[1]||(n[1]=t=>o.apellidos=t),placeholder:"Apellidos"},null,512),[[m,o.apellidos]]),r(e).errors.apellidos?(i(),a("span",x,d(r(e).errors.apellidos[0]),1)):p("",!0)]),s("div",null,[u(s("input",{"onUpdate:modelValue":n[2]||(n[2]=t=>o.documento=t),placeholder:"Documento"},null,512),[[m,o.documento]]),r(e).errors.documento?(i(),a("span",N,d(r(e).errors.documento[0]),1)):p("",!0)]),s("div",null,[u(s("input",{"onUpdate:modelValue":n[3]||(n[3]=t=>o.correo=t),placeholder:"Correo"},null,512),[[m,o.correo]]),r(e).errors.correo?(i(),a("span",P,d(r(e).errors.correo[0]),1)):p("",!0)]),s("div",null,[u(s("input",{"onUpdate:modelValue":n[4]||(n[4]=t=>o.telefono=t),placeholder:"Teléfono"},null,512),[[m,o.telefono]]),r(e).errors.telefono?(i(),a("span",S,d(r(e).errors.telefono[0]),1)):p("",!0)]),r(e).errors.general?(i(),a("div",U,d(r(e).errors.general[0]),1)):p("",!0),s("button",{type:"submit",disabled:r(e).loading},d(r(e).loading?"Enviando...":"Enviar"),9,E),r(e).successMessage?(i(),a("div",I,d(r(e).successMessage),1)):p("",!0)],32))}}),j=g({__name:"PreinscripcionView",setup(c){const l=b(),e=Number(l.params.programaId);return(o,f)=>(i(),a("div",null,[f[0]||(f[0]=s("h1",null,"Preinscripción",-1)),y(B,{"programa-id":r(e)},null,8,["programa-id"])]))}});export{j as default};
